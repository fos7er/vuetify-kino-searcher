(function(){var e={1416:function(e,t,s){"use strict";var r=s(5946),i=s(1935),a=s(2539),o=s(893),n=s(8262),l=function(){var e=this,t=e._self._c;return t(r.Z,[t("router-view"),e._l(e.snacks,(function(s,r){return t(n.Z,{key:s.id,class:{"error-snackbar":"error"===s.type},style:`bottom:${80*r}px`,attrs:{color:s.type,timeout:s.timeout,value:s,bottom:"","multi-line":""},on:{input:function(t){return e.removeSnack(r)}},scopedSlots:e._u([{key:"default",fn:function(){return[e._v(e._s(s.data)+" ")]},proxy:!0},{key:"action",fn:function(){return[t(i.Z,{attrs:{text:""},domProps:{textContent:e._s(e.$t("Close"))},on:{click:function(t){return e.removeSnack(r)}}})]},proxy:!0}],null,!0)})})),t(a.Z,{attrs:{value:e.overlay}},[t(o.Z,{attrs:{indeterminate:"",size:"64"}})],1)],2)},c=[],u=s(8836),d={name:"App",created(){this.$store.dispatch("auth/refresh"),this.$store.commit("userSettings/UPDATE_SETTINGS")},watch:{"$vuetify.lang.current"(){this.$store.dispatch("mainPage/getAllGenres")},isLoggedIn(e){e&&(this.$store.dispatch("userSettings/getSettings"),this.$store.dispatch("movies/getUserMovies"))}},computed:{...(0,u.rn)(["overlay","snacks"]),...(0,u.Se)({isLoggedIn:"auth/isLoggedIn"})},methods:{...(0,u.OI)({removeSnack:"REMOVE_SNACK"})}},m=d,h=s(8081),g=(0,h.Z)(m,l,c,!1,null,null,null),p=g.exports,v=s(1508),f=s(3843);const _={ru:{id:"ru",code:"ru-RU",name:"Русский",shortName:"РУС"},en:{id:"en",code:"en-US",name:"English",shortName:"EN"}};var y=_;const w={get(e,t){return JSON.parse(e.getItem(t))},set(e,t,s){return e.setItem(t,JSON.stringify(s)),!0}},$=new Proxy(localStorage,w);new Proxy(sessionStorage,w);function Z(){if($.settings?.lang)return $.settings.lang;const e=navigator.language||navigator.userLanguage;for(const t in y)if(y[t].code===e)return t}function b(){const e=s(8973),t={ru:{},en:{}};return e.keys().forEach((s=>{const r=s.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){const i=r[1];t[i]=Object.assign(t[i],e(s))}})),t}v.ZP.use(f.Z);var k=new f.Z({locale:Z()||"en",fallbackLocale:"en",messages:b()}),x=s(602);s(8311);class S{constructor(e){(0,x.Z)(this,"showMessage",(()=>{const e=this.message;Pe.commit("SET_ERROR",e,{root:!0})})),this.message=e.message||"something went wrong",this.showMessage()}}var D=s(8809),L=s(3066),E=s(6099);const T={apiKey:"AIzaSyCueauyo2X7lGXSVL6LBffKLICykWlvi0c",authDomain:"kino-searcher.firebaseapp.com",databaseURL:"https://kino-searcher-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"kino-searcher",storageBucket:"kino-searcher.appspot.com",messagingSenderId:"354658137429",appId:"1:354658137429:web:ab09736c49b81aa2d3ebdc"},R=(0,D.ZF)(T),C=(0,E.N8)(R),P=(0,L.v0)(R),M={signInPassword:null,user:null,isLoading:!1},I={isLoggedIn(e){const t=e.user;return!!t&&!!t.stsTokenManager&&!!t.stsTokenManager.accessToken&&!!t.stsTokenManager.refreshToken},userID(e){return e.user?.uid||null}},O={SET_USER(e,t){e.user=t},CLEAR_USER(e){e.user=null}},A={async register({commit:e,state:t,getters:s},{email:r,password:i}){try{t.isLoading=!0;const a=await(0,L.Xb)(P,r,i);if(!Y(a.user))return e("SET_ERROR","Invalid user structure",{root:!0});e("SET_USER",a.user);const o=s.userID;return await(0,E.t8)((0,E.iH)(C,`users/${o}`),{userID:o}),a}catch(a){throw new S(a)}finally{t.isLoading=!1}},async login({commit:e,state:t},{email:s,password:r}){try{t.isLoading=!0;const i=await(0,L.e5)(P,s,r);if(!Y(i.user))return e("SET_ERROR","Invalid user structure",{root:!0});e("SET_USER",i.user)}catch(i){throw new S(i)}finally{t.isLoading=!1}},async logout({state:e}){try{e.isLoading=!0,await(0,L.w7)(P)}catch(t){throw new S(t)}finally{e.isLoading=!1}},async refresh({commit:e}){try{return M.isLoading=!0,new Promise((t=>{P.onAuthStateChanged((async s=>{if(null===s)e("CLEAR_USER"),e("userSettings/CLEAR_SETTINGS",null,{root:!0}),e("movies/CLEAR_USER_MOVIES",null,{root:!0});else{if(!Y(s))return e("SET_ERROR","Invalid user structure",{root:!0});e("SET_USER",s)}t()}))}))}catch(t){throw new S(t)}finally{M.isLoading=!1}},async resetPassword({commit:e},t){if(!/^[A-Za-z0-9._%-]+@[a-z0-9.-]+[.][a-z]+$/.test(t))return e("SET_ERROR","Invalid email",{root:!0}),Promise.reject();try{M.isLoading=!0,await(0,L.LS)(P,t)}catch(s){throw new S(s)}finally{M.isLoading=!1}}};var F={namespaced:!0,state:M,getters:I,actions:A,mutations:O};function Y(e){return!!e&&!!e.stsTokenManager&&!!e.stsTokenManager.accessToken&&!!e.stsTokenManager.refreshToken&&!!e.stsTokenManager.expirationTime}const N={isClipped:!0,drawer:{isShow:!1,drawerItems:[],isMini:!1},header:{height:55},footer:{isFixed:!1}},q={isFixedFooter(e){return e.footer.isFixed},isShowDrawer(e){return e.drawer.isShow},isMiniDrawer(e){return e.drawer.isMini},isClipped(e){return e.isClipped},headerHeight(e){return e.header.height}},j={},V={SET_HEADER_HEIGHT(e,t){e.header.height=t},SET_DRAWER(e,t){e.drawer.isShow=t},TOGGLE_DRAWER(e){e.drawer.isShow=!e.drawer.isShow},TOGGLE_FOOTER(e){e.footer.isFixed=!e.footer.isFixed}};var U={namespaced:!0,state:N,getters:q,actions:j,mutations:V},W={28:"mdi-movie-open",12:"mdi-chart-bubble",16:"mdi-pencil",35:"mdi-emoticon",80:"mdi-robber",99:"mdi-camera",18:"mdi-emoticon-cry",10751:"mdi-teddy-bear",14:"mdi-wizard-hat",36:"mdi-book-open-variant",27:"mdi-ghost",10402:"mdi-music-note",9648:"mdi-head-question",10749:"mdi-cards-heart",878:"mdi-test-tube",10770:"mdi-television-box",53:"mdi-pistol",10752:"mdi-bow-arrow",37:"mdi-account-cowboy-hat"};const G={movieList:[],genreList:[]},B={movies:e=>t=>e.movieList.filter((e=>e.page===t)),genres:e=>e.genreList.map((e=>({id:e.id,icon:W[e.id],name:e.name,to:`/genre/${e.id}`}))),genre:(e,t)=>e=>t.genres.find((t=>t.id===e))||null},H={SET_MOVIES(e,t){e.movieList.push(...t)},CLEAR_MOVIES(e){e.movieList=[]},SET_GENRES(e,t){e.genreList=t}},z={async getAllMovies({commit:e,state:t},s){if(t.movieList.some((e=>e.page===s.page)))return console.log("already has this page, load from cache"),!1;const r=await Ie.getAllMovies(s);r.results.forEach((e=>e.page=s.page)),e("SET_MOVIES",r.results)},async getAllGenres({commit:e}){const t=await Ie.getAllGenres();e("SET_GENRES",t.genres)}};var K={namespaced:!0,state:G,getters:B,actions:z,mutations:H};s(4185),s(7327),s(8365);const J=e=>{if(e instanceof Array)return"Array";if(e instanceof Map)return"Map";if(e instanceof Set)return"Set";if(e instanceof Date)return"Date";if(e instanceof ArrayBuffer)return"ArrayBuffer";if(e instanceof Uint8Array)return"Uint8Array";if(e instanceof Object)return"Object";throw"unknown type or primitive value"},Q=e=>{if(e!==Object(e))return e;const t=J(e);if("Date"===t)return new Date(e.getTime());if("Uint8Array"===t)return new Uint8Array(e);if("ArrayBuffer"===t){const t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}if("Map"===t){const t=new Map;for(const[s,r]of e)t.set(s,Q(r));return t}if("Set"===t)return new Set(Q(Array.from(e)));const s=Array.isArray(e)?[]:{};for(const r in e)s[r]=Q(e[r]);return s},X=e=>e&&"object"===typeof e&&!Array.isArray(e)&&!(e instanceof Uint8Array)&&!(e instanceof ArrayBuffer),ee=(e,...t)=>{if(!t.length)return e;const s=t.shift();if(X(e)&&X(s))for(const r in s)X(s[r])?(e[r]||Object.assign(e,{[r]:{}}),ee(e[r],s[r])):Object.assign(e,{[r]:s[r]});return ee(e,...t)},te={movies:[],subscribed:!1,userMovies:{},isLoading:!1},se={userMovies(e){return e.userMovies},movies(){return te.movies.map((e=>{const t=te.userMovies[e.id];return ee({},e,t)}))},loading(e){return e.isLoading},favoritesList(e,t){return t.movies.filter((e=>t.isFavorite(e.id)))},watchLaterList(e,t){return t.movies.filter((e=>t.isWatchLater(e.id)))},isFavorite(e){return t=>!0===e.userMovies[t]?.inFavorites},isWatchLater(e){return t=>!0===e.userMovies[t]?.inWatchLater},userRating(e){return t=>e.userMovies[t]?.userRating||0},userNote(e){return t=>e.userMovies[t]?.note||""}},re={SET_USER_MOVIE(e,t){e.userMovies[t.id]=t},UPDATE_USER_MOVIE(e,t){e.userMovies[t.id]||(e.userMovies[t.id]={}),ee(e.userMovies[t.id],t)},SET_USER_MOVIES(e,t){t&&(e.userMovies=t)},CLEAR_USER_MOVIES(e){e.userMovies={},e.subscribed=!1},SUBSCRIBE(e){e.subscribed=!0}},ie={getUserMovies({commit:e,state:t,rootGetters:s}){t.isLoading=!0;const r=s["auth/userID"],i=(0,E.iH)(C,`users/${r}/movies`);t.subscribed||((0,E.jM)(i,(s=>{const r=s.val();e("SET_USER_MOVIES",r),t.isLoading=!1})),e("SUBSCRIBE"))},async updateMovie({commit:e,state:t,rootGetters:s},r){const i=s["auth/userID"],a=r.id;if(!i||!a)throw Error("no id");const o={};o[`users/${i}/movies/${a}`]={...t.userMovies[a],...r},await(0,E.Vx)((0,E.iH)(C),o),e("UPDATE_USER_MOVIE",r)},async getFavoriteMovies({state:e,getters:t,dispatch:s}){const r=Object.values(t.userMovies).filter((s=>t.isFavorite(s.id)&&!e.movies.find((e=>e.id===s.id))));await s("getMovies",r)},async getWatchLaterMovies({state:e,getters:t,dispatch:s}){const r=Object.values(t.userMovies).filter((s=>t.isWatchLater(s.id)&&!e.movies.find((e=>e.id===s.id))));await s("getMovies",r)},async getMovies({state:e},t){const s=[];t.forEach((e=>s.push(Ie.getMovie(e.id))));try{e.isLoading=!0,e.movies.push(...await Promise.all(s))}finally{e.isLoading=!1}}};var ae={namespaced:!0,state:te,getters:se,actions:ie,mutations:re},oe=s(299),ne=s.n(oe);class le{constructor(e){(0,x.Z)(this,"handleError",(e=>(le._error(e.response),Promise.reject(e.response))));let t=e.create({baseURL:"https://162-19-199-79.nip.io/rutor",timeout:15e3});t.interceptors.response.use(this.handleSuccess,this.handleError),this.service=t}static _required(){throw"missing required parameter"}static _error(e){const t=e?.data?.status_message||"Something went wrong";Pe.commit("SET_ERROR",t)}handleSuccess(e){return e.data}getNewReleases(e){return this.service.get(`/new/${e}`)}async get(e){return this.service.get(e)}async post(e,t){return this.service.request({data:t,method:"POST",url:e})}}var ce=new le(ne());const ue={movieList:[],isLoading:!1},de={movies:e=>t=>e.movieList.filter((e=>e.page===t))},me={SET_MOVIES(e,t){e.movieList.push(...t)},UPDATE_MOVIES(e,t){t.forEach((t=>{e.movieList.find((e=>e.id===t.id))||e.movieList.push(t)}))},CLEAR_MOVIES(e){e.movieList=[]}},he={async getMoviesOnTorrents({commit:e,state:t},s){try{if(t.isLoading=!0,!t.movieList.some((e=>e.page===s))){const t=await ce.getNewReleases(s);e("UPDATE_MOVIES",t.results)}}finally{t.isLoading=!1}}};var ge={namespaced:!0,state:ue,getters:de,actions:he,mutations:me},pe=s(4637),ve=s.n(pe),fe=s(6457),_e=s(3428),ye=s(8217),we=s(6403);v.ZP.use(fe.Z);var $e=new fe.Z({lang:{locales:{ru:ye.Z,en:_e.Z},current:Z()||"en"},theme:{themes:{dark:{accent:we.Z.amber.darken4}},dark:!0}});const Ze=()=>({about:"tell about yourself",birthDay:ve()("1991-01-20").format("YYYY-MM-DD"),gender:"male",lang:Z()||"en",name:"anon",pirate:!1,theme:!0===$e.framework.theme.dark?"dark":"light"}),be={availableLanguages:y,subscribed:!1,settings:$.settings||Ze()},ke={lang(e){return e.settings.lang},allLang(e){const t=e.availableLanguages,s=[];for(const r in t)s.push(t[r]);return s},theme(e){return e.settings.theme},userName(e){return e.settings.name||"USER"},settings(e){return Q(e.settings)}},xe={SET_SETTINGS(e,t){e.settings=ee({},Ze(),t)},UPDATE_SETTINGS(e,t){e.settings=ee({},e.settings,t),$e.framework.lang.current=k.locale=e.settings.lang,$.settings=e.settings,$e.framework.theme.dark="dark"===e.settings.theme,document.documentElement.style.setProperty("--colorTheme",e.settings.theme)},CLEAR_SETTINGS(e){e.settings=Ze(),$.settings=Ze(),e.subscribed=!1},SUBSCRIBE(e){e.subscribed=!0}},Se={async updateSettings({commit:e,rootGetters:t},s){const r=t["auth/userID"];if(!r)throw Error("no user id");const i={};i[`users/${r}/settings`]=ee({},be.settings,s),await(0,E.Vx)((0,E.iH)(C),i),e("UPDATE_SETTINGS",s)},getSettings({commit:e,state:t,rootGetters:s}){const r=s["auth/userID"],i=(0,E.iH)(C,`users/${r}/settings`);t.subscribed||((0,E.jM)(i,(t=>{const s=t.val();e("SET_SETTINGS",s),e("UPDATE_SETTINGS")})),e("SUBSCRIBE"))}};var De={namespaced:!0,state:be,getters:ke,actions:Se,mutations:xe},Le={auth:F,controls:U,mainPage:K,movies:ae,torrents:ge,userSettings:De};v.ZP.use(u.ZP);const Ee={overlay:!1,snacks:[]},Te={},Re={ADD_OVERLAY(e){e.overlay=!0},REMOVE_OVERLAY(e){e.overlay=!1},SET_SUCCESS:(e,t)=>e.snacks.push({id:Math.random(),type:"success",data:t,timeout:2500}),SET_WARNING:(e,t)=>e.snacks.push({id:Math.random(),type:"warning",data:t,timeout:6e3}),SET_ERROR:(e,t)=>e.snacks.push({id:Math.random(),type:"error",data:t,timeout:7e3}),REMOVE_SNACK:(e,t)=>e.snacks.splice(t,1),CLEAR_SNACKS:e=>e.snacks=[]},Ce={};var Pe=new u.ZP.Store({state:Ee,getters:Te,mutations:Re,actions:Ce,modules:Le});class Me{constructor(e){(0,x.Z)(this,"handleError",(e=>(Me._error(e.response),Promise.reject(e.response))));let t=e.create({baseURL:"https://162-19-199-79.nip.io/3",timeout:1e4,params:{api_key:"98f3df32cd6ce21c4254fd6007f462a1",include_adult:!1}});t.interceptors.request.use((e=>this.addRequestParams(e))),t.interceptors.response.use(this.handleSuccess,this.handleError),this.service=t}get language(){return Pe.getters["userSettings/lang"]}static _required(){throw"missing required parameter"}static _error(e){const t=e?.data?.status_message||"Something went wrong";Pe.commit("SET_ERROR",t)}addRequestParams(e){return e.params.language=this.language,e}handleSuccess(e){return e.data}async getAllMovies({sortBy:e="popularity",page:t=1,genres:s=""}={}){Pe.commit("ADD_OVERLAY");let r=`/discover/movie?sort_by=${e}.desc&include_video=false&page=${t}&with_watch_monetization_types=flatrate`;s.length&&(r+=`&with_genres=${s}`);try{return await this.get(r)}catch(i){return Promise.reject(i)}finally{Pe.commit("REMOVE_OVERLAY")}}async getAllGenres(){const e="/genre/movie/list";try{return await this.get(e)}catch(t){return Promise.reject(t)}}async getMovie(e=Me._required()){const t=`/movie/${e}`;Pe.commit("ADD_OVERLAY");try{return await this.get(t)}catch(s){return Promise.reject(s)}finally{Pe.commit("REMOVE_OVERLAY")}}async getMovieCredits(e=Me._required()){const t=`/movie/${e}/credits`;try{return await this.get(t)}catch(s){return Promise.reject(s)}}async searchMovies(e=Me._required(),t="popularity"){const s=`/search/movie?query=${e}&page=1`;try{const e=await this.get(s);return e.results.sort(((e,s)=>e[t]<s[t]?1:-1))}catch(r){return Promise.reject(r)}}async get(e){return this.service.get(e)}async post(e,t){return this.service.request({data:t,method:"POST",url:e})}}var Ie=new Me(ne()),Oe=s(8842),Ae=s(5997),Fe=s(6189),Ye=function(){var e=this,t=e._self._c;return t("div",[t("Drawer"),t("Header"),t(Fe.Z,{staticClass:"wrapper"},[t(Ae.Z,{on:{click:function(t){return e.setDrawer(!1)}}},[t("router-view")],1)],1),t("Footer")],1)},Ne=[],qe=s(2025),je=s(5683),Ve=s(3570),Ue=s(6142),We=s(9865),Ge=s(5365),Be=s(1324),He=s(6822),ze=function(){var e=this,t=e._self._c;return t(He.Z,{style:`padding-top:${e.$store.getters["controls/headerHeight"]}px`,attrs:{value:e.$store.getters["controls/isShowDrawer"],clipped:e.$store.getters["controls/isClipped"],"mini-variant":e.$store.getters["controls/isMiniDrawer"],fixed:""},on:{input:e.setDrawer},scopedSlots:e._u([{key:"append",fn:function(){return[t(je.Z,{attrs:{dense:""}},[t(Ue.Z,{staticClass:"drawer-list",on:{click:function(t){return e.setDrawer(!1)}}},[t(Be.Z,[t(qe.Z,{domProps:{textContent:e._s(e.$store.getters["controls/isMiniDrawer"]?"mdi-arrow-collapse-right":"mdi-arrow-collapse-left")}})],1),t(Ge.V9,{domProps:{textContent:e._s(e.$t("collapse"))}})],1)],1)]},proxy:!0}])},[t(je.Z,[e._l(e.menu,(function(s){return["link"===s.type?[t(Ue.Z,{key:s.id,attrs:{to:s.to,exact:"",router:""}},[t(We.Z,{attrs:{clas:""}},[t(qe.Z,[e._v(e._s(s.icon))])],1),t(Ge.km,[t(Ge.V9,{domProps:{textContent:e._s(s.name)}})],1)],1)]:e._e(),"group"===s.type?[t(Ve.Z,{key:s.id,attrs:{"prepend-icon":s.icon,value:s.expanded},scopedSlots:e._u([{key:"activator",fn:function(){return[t(Ge.V9,{domProps:{textContent:e._s(s.name)}})]},proxy:!0}],null,!0)},e._l(s.group,(function(r){return t(Ue.Z,{key:r.id,attrs:{to:r.to}},[r.icon?t(Be.Z,[t(qe.Z,{class:{"white-black-color":s.accent},domProps:{textContent:e._s(r.icon)}})],1):e.mini?t("div",{staticClass:"mr-5"},[t(qe.Z,{class:{"white-black-color":s.accent},domProps:{textContent:e._s("mdi-circle-small")}})],1):t("div",{staticClass:"mr-5"}),t(Ge.V9,{staticClass:"white-black-color",domProps:{textContent:e._s(r.name)}})],1)})),1)]:e._e()]}))],2)],1)},Ke=[],Je={created(){this.$store.dispatch("mainPage/getAllGenres")},computed:{menu(){const e=[{id:"home",type:"link",name:this.$t("home"),to:"/",icon:"mdi-home"},{id:"favorites",type:"link",name:this.$t("favorites"),to:"/favorites",icon:"mdi-cards-heart"},{id:"watchlater",type:"link",name:this.$t("watchLater"),to:"/watch-later",icon:"mdi-clock"},{id:"genres",type:"group",name:this.$t("genres"),icon:"mdi-view-list",expanded:this.$route.params.genreID,group:this.$store.getters["mainPage/genres"]}];return this.isLoggedIn&&this.$store.getters["userSettings/settings"].pirate&&e.splice(1,0,{id:"new_torrents",type:"link",name:this.$t("newTorrents"),to:"/new_torrents",icon:"mdi-new-box"}),e},mini(){return this.$store.getters["controls/isMiniDrawer"]}},methods:{setDrawer(e){this.$store.commit("controls/SET_DRAWER",e)}}},Qe=Je,Xe=(0,h.Z)(Qe,ze,Ke,!1,null,"103c1e64",null),et=Xe.exports,tt=s(7761),st=function(){var e=this,t=e._self._c;return t(tt.Z,{attrs:{absolute:!e.isFixedFooter,app:""}},[t("span",[e._v(e._s(e.$t("author"))+" © "+e._s((new Date).getFullYear()))])])},rt=[],it={computed:{...(0,u.Se)({isFixedFooter:"controls/isFixedFooter"})}},at=it,ot=(0,h.Z)(at,st,rt,!1,null,null,null),nt=ot.exports,lt=s(1230),ct=s(5292),ut=s(1790),dt=s(2508),mt=s(3780),ht=function(){var e=this,t=e._self._c;return t(lt.Z,{ref:"appBar",attrs:{"clipped-left":e.$store.getters["controls/isClipped"],app:"",fixed:"",height:"80","hide-on-scroll":"","scroll-threshold":"100"}},[t(ct.Z,{on:{click:function(t){return t.stopPropagation(),e.toggleDrawer.apply(null,arguments)}}}),t(i.Z,{staticClass:"d-none d-md-flex",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleFooter.apply(null,arguments)}}},[t(qe.Z,[e._v("mdi-minus")])],1),t("router-link",{attrs:{to:"/"}},[t("img",{staticClass:"ml-12 logo d-none d-md-block",attrs:{src:"dark"===e.theme?s(6286):s(4080),height:"64",width:"auto",alt:"Logo"}})]),t(Ae.Z,{staticClass:"ml-n4 ml-md-2"},[t(dt.Z,{attrs:{align:"center"}},[t(ut.Z,[t("autocomplete")],1),t(ut.Z,{attrs:{cols:"3"}},[t(mt.Z,{ref:"selectRef",staticClass:"ml-auto lang-select elevation-0",attrs:{"item-text":e.selectText,items:e.allLang,value:e.$store.getters["userSettings/lang"],dense:"","hide-details":"","item-value":"id",solo:""},on:{change:e.changeLang}})],1)],1)],1),t("header-menu")],1)},gt=[],pt=s(5661),vt=function(){var e=this,t=e._self._c;return t(pt.Z,{attrs:{items:e.items,label:e.$t("search"),loading:e.isLoading,placeholder:e.$t("enterMovieName"),"search-input":e.searchValue,color:"white",dense:"","hide-details":"","hide-no-data":"","hide-selected":"","item-text":"titleWithYear","item-value":"id","prepend-icon":e.icon,"return-object":"",solo:"","append-icon":""},on:{"update:searchInput":function(t){e.searchValue=t},"update:search-input":function(t){e.searchValue=t}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},ft=[];function _t(e,t=300){let s;return(...r)=>{clearTimeout(s),s=setTimeout((()=>{e.apply(this,r)}),t)}}var yt={created(){this.search=_t(this.search,300)},data(){return{model:null,items:[],isLoading:!1,searchValue:null}},computed:{icon(){return"xs"===this.$vuetify.breakpoint.name?"":"mdi-magnify"}},methods:{async search(e){this.isLoading=!0;try{const t=await this.MovieAPI.searchMovies(e);return this.items=t.map((e=>(e.release_date?e.titleWithYear=`${e.title} (${new Date(e.release_date).getFullYear()})`:e.titleWithYear=e.title,e)))}finally{this.isLoading=!1}}},watch:{searchValue(e){e&&this.search(e)},model(e){e&&e.id&&this.$router.push("/movie/"+e.id)}}},wt=yt,$t=(0,h.Z)(wt,vt,ft,!1,null,null,null),Zt=$t.exports,bt=s(2160),kt=s(1390),xt=s(8293),St=function(){var e=this,t=e._self._c;return t("div",[t(xt.Z,{attrs:{left:"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:r,value:a}){return[e.breakpoint?t(i.Z,e._g({attrs:{elevation:"0",icon:""}},r),[t(qe.Z,[e._v("mdi-dots-vertical")])],1):t(i.Z,e._g({staticStyle:{"text-transform":"none"},attrs:{elevation:"0",large:""}},r),[t(bt.Z,{staticClass:"mr-1",attrs:{size:"30"}},[t("img",{attrs:{alt:"Avatar",src:s(175)}})]),e._t("user-name",(function(){return[e.isLoggedIn?t("span",[e._v(e._s(e.userName))]):t("span",[e._v(e._s(e.$t("login")))])]})),t("chevron",{attrs:{open:a,right:""}})],2)]}}])},[t(je.Z,[e.isLoggedIn?e._e():t(Ue.Z,{attrs:{exact:"",to:"/registration"}},[t(We.Z,[t(qe.Z,[e._v("mdi-account-check")])],1),t(Ge.V9,{domProps:{textContent:e._s(e.$t("registration"))}})],1),t(kt.Z),e.isLoggedIn?e._e():t(Ue.Z,{attrs:{exact:"",to:"/login"}},[t(We.Z,[t(qe.Z,[e._v("mdi-account-key")])],1),t(Ge.V9,{domProps:{textContent:e._s(e.$t("login"))}})],1),t(kt.Z),e.isLoggedIn?t(Ue.Z,{attrs:{exact:"",to:"/profile"}},[t(We.Z,[t(qe.Z,[e._v("mdi-account-circle")])],1),t(Ge.V9,{domProps:{textContent:e._s(e.$t("profile"))}})],1):e._e(),t(kt.Z),e.isLoggedIn?t(Ue.Z,{attrs:{exact:"",to:"/profile/settings"}},[t(We.Z,[t(qe.Z,[e._v("mdi-tune-variant")])],1),t(Ge.V9,{domProps:{textContent:e._s(e.$t("settings"))}})],1):e._e(),t(kt.Z),e.isLoggedIn?t(Ue.Z,{attrs:{exact:""},on:{click:e.logout}},[t(We.Z,[t(qe.Z,[e._v("mdi-exit-to-app")])],1),t(Ge.V9,{domProps:{textContent:e._s(e.$t("logout"))}})],1):e._e()],1)],1),t("dialog-confirm",{ref:"dialogConfirm"})],1)},Dt=[],Lt=function(){var e=this,t=e._self._c;return t(qe.Z,e._b({staticClass:"icon",class:{rotate:e.open}},"v-icon",e.$attrs,!1),[e._v(" mdi-chevron-down ")])},Et=[],Tt={props:{open:{type:Boolean,required:!0}}},Rt=Tt,Ct=(0,h.Z)(Rt,Lt,Et,!1,null,"212130b8",null),Pt=Ct.exports,Mt={components:{chevron:Pt},computed:{breakpoint(){return"xs"===this.$vuetify.breakpoint.name}},methods:{async logout(){const e={title:this.$t("logout"),message:this.$t("logoutConfirm")};try{await this.$refs.dialogConfirm.open(e)&&(await this.$store.dispatch("auth/logout"),this.$router.push("/"))}finally{await this.$refs.dialogConfirm.loadingOver()}}}},It=Mt,Ot=(0,h.Z)(It,St,Dt,!1,null,null,null),At=Ot.exports,Ft={components:{autocomplete:Zt,HeaderMenu:At},mounted(){this.$watch((()=>this.$refs.selectRef.isMenuActive),(e=>{this.setSelectText(e)})),this.$store.commit("controls/SET_HEADER_HEIGHT",this.$refs.appBar.$el.clientHeight||this.$refs.appBar.$el.offsetHeight)},data(){return{selectText:"shortName",title:"KINO Searcher"}},computed:{...(0,u.Se)({allLang:"userSettings/allLang",theme:"userSettings/theme"}),name(){return this.data}},methods:{toggleFooter(){this.$store.commit("controls/TOGGLE_FOOTER")},toggleDrawer(){this.$store.commit("controls/TOGGLE_DRAWER")},changeLang(e){this.isLoggedIn?this.$store.dispatch("userSettings/updateSettings",{lang:e}):this.$store.commit("userSettings/UPDATE_SETTINGS",{lang:e})},setSelectText(e){this.selectText=e?"name":"shortName"}}},Yt=Ft,Nt=(0,h.Z)(Yt,ht,gt,!1,null,"6ed9be2f",null),qt=Nt.exports,jt={components:{Drawer:et,Footer:nt,Header:qt},name:"DefaultLayout",methods:{setDrawer(e){this.$store.commit("controls/SET_DRAWER",e)}}},Vt=jt,Ut=(0,h.Z)(Vt,Ye,Ne,!1,null,null,null),Wt=Ut.exports,Gt=s(1712),Bt=s(6887),Ht=s(7063),zt=function(){var e=this,t=e._self._c;return t(Ae.Z,[t(dt.Z,{attrs:{justify:"center"}},[t(ut.Z,{attrs:{lg:"10"}},[t("h3",{staticClass:"mb-2"},[e._v(e._s(e.$t("favorites")))]),t(Gt.Z,{staticClass:"pagination-display-none",attrs:{"footer-props":{"items-per-page-text":"","items-per-page-options":[15,30,50,100]},headers:e.headers,items:e.tableData,loading:e.loading,options:e.tableOptions,search:e.search,"calculate-widths":"","mobile-breakpoint":"200","must-sort":""},on:{"click:row":e.openDialog,"update:options":function(t){e.tableOptions=t}},scopedSlots:e._u([{key:"top",fn:function(){return[t(Ht.Z,{attrs:{flat:""}},[t(Bt.Z,{attrs:{label:e.$t("search"),"append-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:e.search,callback:function(t){e.search="string"===typeof t?t.trim():t},expression:"search"}})],1)]},proxy:!0},{key:"item.genres",fn:function({item:t}){return[e._v(" "+e._s(e.movieGenreText(t.genres))+" ")]}},{key:"item.release_date",fn:function({item:t}){return[e._v(" "+e._s(e.movieYear(t.release_date))+" ")]}},{key:"item.userRating",fn:function({item:t}){return[e._v(" "+e._s(t.userRating||"—")+" ")]}},{key:"item.vote_average",fn:function({item:t}){return[e._v(" "+e._s(t.vote_average.toFixed(2))+" ")]}},{key:"item.actions",fn:function({item:s}){return[t(i.Z,{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.removeFromFav(s.id)}}},[t(qe.Z,{domProps:{textContent:e._s("mdi-delete")}})],1)]}}])})],1)],1),t("movie-dialog",{ref:"dialog",attrs:{movie:e.movieDialogData}}),t("dialog-confirm",{ref:"dialogConfirm"})],1)},Kt=[],Jt=s(9645),Qt=s.n(Jt),Xt=s(1343),es=s.n(Xt),ts=s(8957),ss=s.n(ts),rs=s(3005),is=s.n(rs);ve().extend(Qt()),ve().extend(es()),ve().extend(ss()),ve().extend(is());var as=ve(),os=s(8448),ns=s(5601),ls=s(6604),cs=s(8702),us=s(3181),ds=function(){var e=this,t=e._self._c;return t(ls.Z,{attrs:{fullscreen:e.breakpoint,"max-width":"1100px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(os.Z,{staticClass:"card pa-0"},[t("div",{staticClass:"closeBtn d-flex justify-end"},[t(i.Z,{attrs:{icon:""},on:{click:e.close}},[t(qe.Z,[e._v(" mdi-close")])],1)],1),t(Ae.Z,{staticClass:"mt-n3"},[t(dt.Z,[t(ut.Z,{attrs:{cols:"12",md:"4"}},[t(us.Z,{directives:[{name:"show",rawName:"v-show",value:e.posterSrcFull&&!e.imgLoaded,expression:"posterSrcFull && !imgLoaded"}],attrs:{height:"530px",type:"image"}}),t(cs.Z,{class:{invisible:!e.imgLoaded},attrs:{src:e.posterSrcFull},on:{load:e.loadIMGHandler}})],1),t(ut.Z,{staticClass:"card__right-column",attrs:{md:"8"}},[t(ns.EB,{attrs:{"pt-0":""}},[t("h2",[e._v(e._s(e.movie.title))]),t("span",{staticClass:"release-year"},[e._v(" ("+e._s(e.releaseDateYear)+")")])]),t(ns.Qq,{staticClass:"mt-n3"},[t("div",{staticClass:"py-1"},[e._l(e.movie.genres,(function(s){return t("span",{key:s.id},[e._v(e._s(s.name)+" ")])})),e._v(" ● "),t("span",[e._v(e._s(e.duration))])],2),t("div",{staticClass:"py-1"},[e._v(e._s(e.movieCast))])]),t("div",{staticClass:"my-4 pl-2"},[t(dt.Z,{attrs:{align:"center"}},[t("round-rating",{attrs:{score:e.movie.vote_average}}),t("btn-favorite",{attrs:{movieID:e.movie.id}}),t("btn-watch-later",{attrs:{movieID:e.movie.id}}),t("btn-pirate",{attrs:{movieTitle:e.movie.title}})],1)],1),t("div",{staticClass:"d-flex font-italic text--secondary mt-6 mb-2"},[e.movie.tagline?t("h4",[e._v(e._s(e.movie.tagline))]):e._e()]),t("h3",[e._v(e._s(e.$t("yourRating")))]),t("movie-rating",{attrs:{movieID:e.movie.id}}),t(kt.Z),t("h3",[e._v(e._s(e.$t("overview")))]),t(ns.ZB,{staticClass:"pt-1"},[e._v(" "+e._s(e.movie.overview||e.$t("noDescription"))+" ")]),e.isLoggedIn?t("note",{attrs:{movieID:e.movie.id}}):e._e()],1)],1)],1)],1)],1)},ms=[],hs=s(5167),gs=function(){var e=this,t=e._self._c;return t("div",[e.isFavorite?e._e():t(hs.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("div",e._g({},s),[t(i.Z,{attrs:{id:"custom-btn",disabled:!e.isLoggedIn||e.loading},on:{click:e.addToFav}},[t(qe.Z,[e._v("mdi-heart-outline")])],1)],1)]}}],null,!1,1798119691)},[t("span",[e._v(e._s(e.toolTipText))])]),e.isFavorite?t(i.Z,{attrs:{id:"custom-btn"},on:{click:e.removeFromFav}},[t(qe.Z,[e._v("mdi-heart")])],1):e._e(),t("dialog-confirm",{ref:"dialogConfirm"})],1)},ps=[],vs={props:{movieID:{type:Number,required:!0}},computed:{isFavorite(){return this.$store.getters["movies/isFavorite"](this.movieID)},toolTipText(){return this.isLoggedIn?this.$t("addToFavorites"):this.$t("loginToAdd")},loading(){return this.$store.getters["movies/loading"]}},methods:{async addToFav(){const e={id:this.movieID,inFavorites:!0,dateAddedToFavorites:(new Date).toISOString()};await this.$store.dispatch("movies/updateMovie",e)},async removeFromFav(){const e={title:this.$t("delete"),message:this.$t("deleteFromFavorites")};if(await this.$refs.dialogConfirm.open(e)){const e={id:this.movieID,inFavorites:null,dateAddedToFavorites:null};await this.$store.dispatch("movies/updateMovie",e),this.$refs.dialogConfirm.close()}}}},fs=vs,_s=(0,h.Z)(fs,gs,ps,!1,null,"41a82d6c",null),ys=_s.exports,ws=function(){var e=this,t=e._self._c;return e.isLoggedIn&&e.$store.getters["userSettings/settings"].pirate?t("div",[t(hs.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("div",e._g({},s),[t(i.Z,e._g({attrs:{id:"custom-btn"},on:{click:e.search}},s),[t(qe.Z,[e._v("mdi-pirate")])],1)],1)]}}],null,!1,4229900184)},[t("span",[e._v(e._s(e.toolTipText))])])],1):e._e()},$s=[],Zs={props:{movieTitle:{type:String,required:!0}},computed:{toolTipText(){return this.$t("searchOnRutor")}},methods:{search(){window.open(`http://rutor.info/search/0/0/000/2/${this.movieTitle}`,"_blank")}}},bs=Zs,ks=(0,h.Z)(bs,ws,$s,!1,null,"7f44cfc8",null),xs=ks.exports,Ss=function(){var e=this,t=e._self._c;return t("div",[e.isWatchLater?e._e():t(hs.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("div",e._g({},s),[t(i.Z,e._g({attrs:{id:"custom-btn",disabled:!e.isLoggedIn||e.loading},on:{click:e.addToWatchLater}},s),[t(qe.Z,[e._v("mdi-timer-star-outline")])],1)],1)]}}],null,!1,3344215453)},[t("span",[e._v(e._s(e.toolTipText))])]),e.isWatchLater?t(i.Z,{attrs:{id:"custom-btn"},on:{click:e.removeFromWatchLater}},[t(qe.Z,[e._v("mdi-timer-remove")])],1):e._e(),t("dialog-confirm",{ref:"dialogConfirm"})],1)},Ds=[],Ls={props:{movieID:{type:Number,required:!0}},computed:{isWatchLater(){return this.$store.getters["movies/isWatchLater"](this.movieID)},toolTipText(){return this.isLoggedIn?this.$t("addToWatchLater"):this.$t("loginToAdd")},loading(){return this.$store.getters["movies/loading"]}},methods:{async addToWatchLater(){const e={id:this.movieID,inWatchLater:!0,dateAddedToWatchLater:(new Date).toISOString()};await this.$store.dispatch("movies/updateMovie",e)},async removeFromWatchLater(){const e={title:this.$t("delete"),message:this.$t("deleteFromWatchLater")};if(await this.$refs.dialogConfirm.open(e)){const e={id:this.movieID,inWatchLater:null,dateAddedToWatchLater:null};await this.$store.dispatch("movies/updateMovie",e),this.$refs.dialogConfirm.close()}}}},Es=Ls,Ts=(0,h.Z)(Es,Ss,Ds,!1,null,"2092efc7",null),Rs=Ts.exports,Cs={created(){const e=this.$router.beforeEach(((e,t,s)=>{if(this.dialog)return this.dialog=!1,void s(!1);s()}));this.$once("hook:destroyed",(()=>{e()}))}},Ps=s(8439),Ms=function(){var e=this,t=e._self._c;return t("div",[t(hs.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("div",e._g({staticClass:"d-inline-block"},s),[t(Ps.Z,{staticClass:"py-2 d-inline-block",attrs:{readonly:!e.isLoggedIn||e.loading,value:e.value,"background-color":"orange lighten-3",color:"orange",hover:"",length:"10",small:""},on:{input:e.setRating}})],1)]}}])},[t("span",[e._v(e._s(e.toolTipText))])])],1)},Is=[],Os={props:{movieID:{type:Number,required:!0}},computed:{value(){return this.$store.getters["movies/userRating"](this.movieID)},toolTipText(){return this.isLoggedIn?this.$t("yourRating"):this.$t("loginToRate")},loading(){return this.$store.getters["movies/loading"]}},methods:{async setRating(e){const t={id:this.movieID,userRating:e};await this.$store.dispatch("movies/updateMovie",t)}}},As=Os,Fs=(0,h.Z)(As,Ms,Is,!1,null,null,null),Ys=Fs.exports,Ns=s(5345),qs=function(){var e=this,t=e._self._c;return t("div",[t(Ns.Z,{attrs:{disabled:e.loading,label:e.$t("note"),loadin:e.loading,value:e.value,"auto-grow":"","max-he":"","row-height":"20",rows:"2"},on:{change:e.save}})],1)},js=[],Vs={props:{movieID:{type:Number,required:!0}},computed:{value(){return this.$store.getters["movies/userNote"](this.movieID)},loading(){return this.$store.getters["movies/loading"]}},methods:{async save(e){const t={id:this.movieID,note:e.length?e:null};await this.$store.dispatch("movies/updateMovie",t)}}},Us=Vs,Ws=(0,h.Z)(Us,qs,js,!1,null,null,null),Gs=Ws.exports,Bs=function(){var e=this,t=e._self._c;return t("div",[t("div",{class:[e.size,e.color]},[t("span",[e._v(e._s(e.rating)+"%")]),e._m(0)])])},Hs=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"slice"},[t("div",{staticClass:"bar"}),t("div",{staticClass:"fill"})])}],zs={props:{score:{type:Number,default:0}},computed:{size(){return`c100 p${this.rating} small dark`},color(){return this.rating>=70?"green-color":this.rating>=50?"yellow-color":this.rating>=40?"orange-color":"red-color"},rating(){return(10*this.score).toFixed(0)}}},Ks=zs,Js=(0,h.Z)(Ks,Bs,Hs,!1,null,"1285224a",null),Qs=Js.exports,Xs={components:{BtnFavorite:ys,BtnPirate:xs,BtnWatchLater:Rs,MovieRating:Ys,Note:Gs,RoundRating:Qs},mixins:[Cs],props:["movie"],data(){return{dialog:!1,imgLoaded:!1}},watch:{posterSrcFull(){this.imgLoaded=!1}},computed:{breakpoint(){return"xs"===this.$vuetify.breakpoint.name},posterSrcFull(){return this.movie.poster_path?`https://162-19-199-79.nip.io/t/p/w500${this.movie.poster_path}`:""},releaseDateYear(){return as(this.movie.release_date||0).format("YYYY")},duration(){return as.duration(this.movie.runtime||0,"minutes").format("HH:mm")},movieCast(){return this.movie?.cast?this.movie.cast?.slice(0,5).map((e=>e.name)).join(", "):""}},methods:{loadIMGHandler(){this.imgLoaded=!0},close(){this.dialog=!1},open(){this.dialog=!0}}},er=Xs,tr=(0,h.Z)(er,ds,ms,!1,null,"531c9dec",null),sr=tr.exports,rr={name:"Favorites",components:{MovieDialog:sr},data(){return{tableOptions:{itemsPerPage:15,page:1,sortBy:["dateAddedToFavorites"],sortDesc:[!1]},headers:[{text:this.$t("title"),align:"left",value:"title"},{text:this.$t("genre"),align:"left",value:"genres",sortable:!1},{text:this.$t("year"),align:"left",value:"release_date"},{text:this.$t("time,Min"),align:"left",value:"runtime"},{text:this.$t("yourRating"),align:"left",value:"userRating"},{text:this.$t("rating"),align:"left",value:"vote_average"},{text:this.$t("actions"),align:"center",value:"actions",sortable:!1}],search:"",movieDialogData:{}}},created(){this.$store.dispatch("movies/getFavoriteMovies")},watch:{userMovies:{handler(){this.$store.dispatch("movies/getFavoriteMovies")},deep:!0}},computed:{tableData(){return this.$store.getters["movies/favoritesList"]},loading(){return this.$store.getters["movies/loading"]},userMovies(){return this.$store.getters["movies/userMovies"]}},methods:{dropTable(){this.tableOptions.page=1},async removeFromFav(e){const t={title:this.$t("delete"),message:this.$t("deleteFromFavorites")};if(await this.$refs.dialogConfirm.open(t)){const t={id:e,inFavorites:null,dateAddedToFavorites:null};await this.$store.dispatch("movies/updateMovie",t),this.$refs.dialogConfirm.close()}},movieGenreText(e){return e.reduce(((t,s,r)=>(r===e.length-1?t+=`${s.name}`:t+=`${s.name}, `,t)),"")},movieYear(e){return as(e).format("YYYY")},openDialog(e){this.movieDialogData=e,this.$refs.dialog.open()}}},ir=rr,ar=(0,h.Z)(ir,zt,Kt,!1,null,null,null),or=ar.exports,nr=s(1586),lr=s(3418),cr=s(9257),ur=function(){var e=this,t=e._self._c;return t(Ae.Z,{staticClass:"fill-height"},[t(dt.Z,{attrs:{align:"center",justify:"center"}},[t(ut.Z,{attrs:{cols:"11",lg:"5",md:"7",sm:"8",xl:"4"}},[t(os.Z,[t(Ht.Z,{attrs:{color:"secondary",dark:""}},[t(cr.qW,[e._v(e._s(e.$t("login")))])],1),t(nr.Z,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.doLogin.apply(null,arguments)}}},[t(ns.ZB,[t(Bt.Z,{attrs:{label:e.$t("email"),rules:[e.globalRules.required,e.globalRules.email],autofocus:"","prepend-icon":"mdi-account",type:"text"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.focusPassword.apply(null,arguments))}},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}}),t("password-field",{ref:"password",attrs:{label:e.$t("password"),rules:[e.globalRules.required,e.globalRules.minLength(6)],"prepend-icon":"mdi-lock","validate-on-blur":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"===typeof t?t.trim():t)},expression:"form.password"}}),t("div",{staticClass:"d-flex justify-end"},[t("router-link",{attrs:{to:`/restore?email=${e.form.email}`},domProps:{textContent:e._s(e.$t("forgotPassword"))}})],1)],1),t(ns.h7,[t(lr.Z),t(i.Z,{attrs:{loading:e.loading,disabled:e.loading,color:"accent",depressed:"",type:"submit"}},[e._v(e._s(e.$t("login")))])],1)],1)],1)],1)],1)],1)},dr=[],mr=function(){var e=this,t=e._self._c;return t(Bt.Z,e._g(e._b({ref:"field",attrs:{"append-icon":e.open?"mdi-eye":"mdi-eye-off",type:e.open?"text":"password"},on:{"click:append":e.toggle}},"v-text-field",e.$attrs,!1),e.$listeners))},hr=[],gr={data(){return{open:!1}},methods:{show(){this.open=!0},hide(){this.open=!1},toggle(){this.open=!this.open},resetValidation(){this.$refs.field.resetValidation()},validate(){return this.$refs.field.validate()},focus(){return this.$refs.field.focus()}}},pr=gr,vr=(0,h.Z)(pr,mr,hr,!1,null,null,null),fr=vr.exports,_r={methods:{clearForm(e){const t=e||this.form;for(const s in t)t[s]=""}}},yr={watch:{isLoggedIn(e){e&&this.$router.push({path:this.$route.query.redirect||"/"})}}},wr={components:{PasswordField:fr},mixins:[_r,yr],data(){return{form:{email:"",password:""}}},computed:{loading(){return this.$store.state.auth.isLoading}},methods:{async doLogin(){if(!this.$refs.form.validate())return;const{email:e,password:t}=this.form;try{await this.$store.dispatch("auth/login",{email:e,password:t}),this.$store.commit("SET_SUCCESS",this.$t("successLogin"),{root:!0}),this.clearForm()}catch(s){this.form.email=e}},focusPassword(){this.$refs.password.focus()}}},$r=wr,Zr=(0,h.Z)($r,ur,dr,!1,null,null,null),br=Zr.exports,kr=function(){var e=this,t=e._self._c;return t(dt.Z,{attrs:{justify:"center"}},[t(ut.Z,{attrs:{xl:"10"}},[e.genreName?t("h2",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("genresPageTitle",[e.genreName])))]):e._e(),t("movie-list",{key:e.$route.params.genreID,on:{movieClick:e.openMovieDialog}}),t("movie-dialog",{ref:"dialog",attrs:{movie:e.movieDialogData}})],1)],1)},xr=[],Sr=s(8233),Dr=function(){var e=this,t=e._self._c;return t(Ae.Z,[t(dt.Z,{attrs:{align:"stretch",justify:"center"}},e._l(e.movies,(function(s){return t(ut.Z,{key:s.id,attrs:{cols:"12",lg:"3",md:"4",sm:"6"}},[t("movie-card",{attrs:{movie:s},nativeOn:{click:function(t){return e.movieClick(s.id)}}})],1)})),1),t(dt.Z,{directives:[{name:"show",rawName:"v-show",value:e.movies.length,expression:"movies.length"}],attrs:{justify:"center"}},[t(Sr.Z,{attrs:{length:500,"total-visible":e.totalVisible},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)},Lr=[],Er={created(){this.getPage()},data(){return{page:+this.$route.query?.page||1}},watch:{page(){this.getPage()},"$route.query.page"(e){this.page=parseInt(e)||1}}},Tr=s(714),Rr=function(){var e=this,t=e._self._c;return t(os.Z,{staticClass:"mx-auto card",attrs:{"max-width":"344"}},[t(cs.Z,{key:e.srcFull,attrs:{height:"200px",src:e.srcFull,"lazy-src":s(42)},scopedSlots:e._u([e.srcFull?{key:"placeholder",fn:function(){return[t(dt.Z,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[t(o.Z,{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}:null],null,!0)}),t(ns.EB,{staticClass:"card__title"},[e._v(" "+e._s(e.movie.title))]),t(ns.Qq,[e._v(" "+e._s(e.movie.original_title))]),t(dt.Z,{staticClass:"mx-4",attrs:{align:"center"}},[t(Ps.Z,{attrs:{value:e.movie.vote_average/2,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),t("div",{staticClass:"grey--text ms-4"},[e._v(" "+e._s(`${e.movie.vote_average.toFixed(1)}`)+" ")])],1),t(ns.h7,[t(i.Z,{attrs:{color:"orange lighten-2",text:""}},[e._v(" "+e._s(e.$t("explore")))]),t(lr.Z),t(i.Z,{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.show=!e.show}}},[t("chevron",{attrs:{open:e.show}})],1)],1),t(Tr.Fx,[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[t(kt.Z),t(ns.ZB,[e._v(" "+e._s(e.movie.overview?e.movie.overview:e.$t("noDescription"))+" ")])],1)])],1)},Cr=[],Pr={components:{chevron:Pt},props:["movie"],data(){return{show:!1}},computed:{srcFull(){return this.movie.backdrop_path?`https://162-19-199-79.nip.io/t/p/w500${this.movie.backdrop_path}`:""}}},Mr=Pr,Ir=(0,h.Z)(Mr,Rr,Cr,!1,null,"4f4e335f",null),Or=Ir.exports,Ar={components:{movieCard:Or},mixins:[Er],computed:{movies(){return this.$store.getters["mainPage/movies"](this.page)},totalVisible(){return"xs"===this.$vuetify.breakpoint.name?5:9},genreID(){return this.$route.params.genreID}},beforeCreate(){this.$store.commit("mainPage/CLEAR_MOVIES")},methods:{async movieClick(e){const[t,s]=await Promise.all([this.MovieAPI.getMovie(e),this.MovieAPI.getMovieCredits(e)]);this.$emit("movieClick",ee(t,s))},async getPage(){const e={page:this.page,genres:this.genreID};+this.$route.query?.page!==this.page&&await this.$router.push({query:{page:`${this.page}`}}),await this.$store.dispatch("mainPage/getAllMovies",e)}},watch:{"$vuetify.lang.current"(){this.$store.commit("mainPage/CLEAR_MOVIES"),this.getPage()}}},Fr=Ar,Yr=(0,h.Z)(Fr,Dr,Lr,!1,null,null,null),Nr=Yr.exports,qr={components:{MovieDialog:sr,MovieList:Nr},data(){return{movieDialogData:{}}},computed:{genreName(){const e=+this.$route.params.genreID||null;return this.$store.getters["mainPage/genre"](e)?.name||""}},methods:{openMovieDialog(e){this.movieDialogData=e,this.$refs.dialog.open()}}},jr=qr,Vr=(0,h.Z)(jr,kr,xr,!1,null,null,null),Ur=Vr.exports,Wr=function(){var e=this,t=e._self._c;return t(os.Z,{staticClass:"card"},[t(Ae.Z,[t(dt.Z,[t(ut.Z,{attrs:{cols:"12",md:"4"}},[t(us.Z,{directives:[{name:"show",rawName:"v-show",value:e.posterSrcFull&&!e.imgLoaded,expression:"posterSrcFull && !imgLoaded"}],attrs:{height:"530px",type:"image"}}),t(cs.Z,{class:{invisible:!e.imgLoaded},attrs:{src:e.posterSrcFull},on:{load:e.loadIMGHandler}})],1),t(ut.Z,{staticClass:"card__right-column",attrs:{cols:"12",md:"8"}},[t(ns.EB,{attrs:{"pt-0":""}},[t("h2",[e._v(e._s(e.movie.title))]),t("span",{staticClass:"release-year"},[e._v(" ("+e._s(e.releaseDateYear)+")")])]),t(ns.Qq,{staticClass:"mt-n3"},[e._l(e.movie.genres,(function(s){return t("span",{key:s.id},[e._v(e._s(s.name)+" ")])})),e._v(" ● "),t("span",[e._v(" "+e._s(e.$t("duration"))+" "+e._s(e.duration))])],2),t("div",{staticClass:"my-4 pl-2"},[t(dt.Z,{attrs:{align:"center"}},[t("round-rating",{attrs:{score:e.movie.vote_average}}),t("btn-favorite",{attrs:{movieID:e.movieID}}),t("btn-watch-later",{attrs:{movieID:e.movieID}}),t("btn-pirate",{attrs:{movieTitle:e.movie.title}})],1)],1),t("div",{staticClass:"d-flex font-italic text--secondary mt-6"},[e.movie.tagline?t("h4",[e._v(e._s(e.movie.tagline))]):e._e()]),t("h3",[e._v(e._s(e.$t("yourRating")))]),t("movie-rating",{attrs:{movieID:e.movieID}}),t(kt.Z),t("h3",[e._v(e._s(e.$t("overview")))]),t(ns.ZB,{staticClass:"pt-1"},[e._v(" "+e._s(e.movie.overview||e.$t("noDescription"))+" ")]),e.isLoggedIn?t("note",{attrs:{movieID:e.movieID}}):e._e()],1)],1)],1),t("dialog-confirm",{ref:"dialogConfirm"})],1)},Gr=[],Br={components:{BtnFavorite:ys,BtnPirate:xs,BtnWatchLater:Rs,MovieRating:Ys,Note:Gs,RoundRating:Qs},data(){return{movie:{release_date:"2023-01-01",runtime:60},imgLoaded:!1}},watch:{movieID(){this.imgLoaded=!1,this.getMovie()}},computed:{posterSrcFull(){return this.movie.poster_path?`https://162-19-199-79.nip.io/t/p/w500${this.movie.poster_path}`:""},releaseDateYear(){return as(this.movie.release_date).format("YYYY")},duration(){return as.duration(this.movie.runtime,"minutes").format("HH:mm")},movieID(){return+this.$route.params.movieID}},methods:{loadIMGHandler(){this.imgLoaded=!0},async getMovie(){this.$store.commit("ADD_OVERLAY");try{this.movie=await this.MovieAPI.getMovie(this.movieID)}catch(e){404===e.status&&await this.$router.push("/404")}finally{this.$store.commit("REMOVE_OVERLAY")}}},created(){this.getMovie()}},Hr=Br,zr=(0,h.Z)(Hr,Wr,Gr,!1,null,"83cbaa4e",null),Kr=zr.exports,Jr=function(){var e=this,t=e._self._c;return t(Ae.Z,{staticClass:"text-center align-center justify-center fill-height"},[t(dt.Z,{staticClass:"mt-n16"},[t(ut.Z,[t("h1",[e._v("404")]),t("h2",[e._v("Ooops, page not found.")]),t("router-link",{attrs:{to:"/"}},[e._v(" back to the main page")])],1)],1)],1)},Qr=[],Xr={},ei=Xr,ti=(0,h.Z)(ei,Jr,Qr,!1,null,null,null),si=ti.exports,ri=function(){var e=this,t=e._self._c;return t(Ae.Z,[t(dt.Z,{attrs:{justify:"center"}},[t(ut.Z,[t("h3",{staticClass:"text-center"},[e._v("Профиль")])])],1),t("router-view")],1)},ii=[],ai={},oi=ai,ni=(0,h.Z)(oi,ri,ii,!1,null,null,null),li=ni.exports,ci=function(){var e=this,t=e._self._c;return t(Ae.Z,{staticClass:"fill-height"},[t(dt.Z,{attrs:{align:"center",justify:"center"}},[t(ut.Z,{attrs:{cols:"11",lg:"5",md:"7",sm:"8",xl:"4"}},[t(os.Z,[t(Ht.Z,{attrs:{color:"secondary",dark:""}},[t(cr.qW,[e._v(e._s(e.$t("registration")))])],1),t(nr.Z,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[t(ns.ZB,[t(Bt.Z,{attrs:{label:e.$t("email"),rules:[e.globalRules.required,e.globalRules.email],autofocus:"","prepend-icon":"mdi-account",type:"text"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.focusPassword.apply(null,arguments))}},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}}),t("password-field",{ref:"password",attrs:{label:e.$t("password"),rules:[e.globalRules.required,e.globalRules.minLength(6)],"prepend-icon":"mdi-lock","validate-on-blur":""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.focusRepeatPassword.apply(null,arguments))},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.focusRepeatPassword.apply(null,arguments))}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"===typeof t?t.trim():t)},expression:"form.password"}}),t("password-field",{ref:"repeatPassword",attrs:{label:e.$t("repeatPassword"),rules:[e.globalRules.required,e.globalRules.samePassword(this.form.password)],"prepend-icon":"mdi-lock","validate-on-blur":""},model:{value:e.form.repeatPassword,callback:function(t){e.$set(e.form,"repeatPassword","string"===typeof t?t.trim():t)},expression:"form.repeatPassword"}})],1),t(ns.h7,[t(lr.Z),t(i.Z,{attrs:{loading:e.loading,disabled:e.loading,color:"accent",depressed:"",type:"submit"}},[e._v(e._s(e.$t("registration"))+" ")])],1)],1)],1)],1)],1)],1)},ui=[],di={components:{PasswordField:fr},mixins:[_r,yr],data(){return{form:{email:"",password:"",repeatPassword:""}}},computed:{loading(){return this.$store.state.auth.isLoading}},methods:{async register(){if(!this.$refs.form.validate())return;const{email:e,password:t}=this.form;try{await this.$store.dispatch("auth/register",{email:e,password:t}),await this.$router.push("/profile/settings"),this.$store.commit("SET_SUCCESS","Successfully registration",{root:!0})}catch(s){this.clearForm(),this.form.email=e}},focusPassword(){this.$refs.password.focus()},focusRepeatPassword(){this.$refs.repeatPassword.focus()}}},mi=di,hi=(0,h.Z)(mi,ci,ui,!1,null,null,null),gi=hi.exports,pi=s(3933),vi=function(){var e=this,t=e._self._c;return t(Ae.Z,{staticClass:"fill-height"},[t(dt.Z,{attrs:{align:"center",justify:"center"}},[t(ut.Z,{staticClass:"d-flex justify-center",attrs:{cols:"11",lg:"5",md:"7",sm:"8",xl:"4"}},[e.resetSend?t(pi.Z,{attrs:{dense:"",text:"",type:"success"}},[e._v(" "+e._s(e.$t("successResetPassword"))+" "+e._s(e.email)+" ")]):t(i.Z,{staticClass:"ma-2 white--text",attrs:{loading:e.loading,disabled:e.loading,color:"blue-grey"},on:{click:e.resetPassword}},[e._v(" "+e._s(e.$t("resetPassword"))+" "),t(qe.Z,{attrs:{right:"",dark:""}},[e._v(" mdi-lock-reset ")])],1)],1)],1),t("dialog-confirm",{ref:"dialogConfirm"})],1)},fi=[],_i={mixins:[yr],data(){return{resetSend:!1}},computed:{loading(){return this.$store.state.auth.isLoading},email(){return this.$route.query.email}},methods:{async resetPassword(){const e={title:this.$t("resetPassword"),message:this.$t("resetPassword")+"?"};if(await this.$refs.dialogConfirm.open(e))try{await this.$store.dispatch("auth/resetPassword",this.email),this.resetSend=!0}finally{this.$refs.dialogConfirm.close()}}}},yi=_i,wi=(0,h.Z)(yi,vi,fi,!1,null,null,null),$i=wi.exports,Zi=function(){var e=this,t=e._self._c;return t(dt.Z,{attrs:{justify:"center",align:"center"}},[t(ut.Z,{attrs:{xl:"10"}},[e.loading?t("Progress",{staticStyle:{"margin-top":"40vh"},attrs:{color:"primary",capacity:15e3}}):e._e(),t("torrents-list",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],on:{movieClick:e.openMovieDialog}}),t("movie-dialog",{ref:"dialog",attrs:{movie:e.movieDialogData}})],1)],1)},bi=[],ki=s(9364),xi=function(){var e=this,t=e._self._c;return t(ki.Z,e._b({attrs:{height:8},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"v-progress-linear",e.$attrs,!1))},Si=[],Di={props:{step:{type:Number,default:1e3},capacity:{type:Number,required:!0}},data(){return{value:0,interval:null}},methods:{start(){this.interval=null,setInterval((()=>{this.value+=100/(this.capacity/this.step)}),this.step)}},mounted(){this.start()},beforeUnmount(){clearInterval(this.interval)}},Li=Di,Ei=(0,h.Z)(Li,xi,Si,!1,null,null,null),Ti=Ei.exports,Ri=function(){var e=this,t=e._self._c;return t(Ae.Z,[t(dt.Z,{attrs:{align:"stretch",justify:"center"}},e._l(e.movies,(function(s){return t(ut.Z,{key:s.id,attrs:{cols:"12",lg:"3",md:"4",sm:"6"}},[t("movie-card",{attrs:{movie:s},nativeOn:{click:function(t){return e.movieClick(s.id)}}})],1)})),1),t(dt.Z,{directives:[{name:"show",rawName:"v-show",value:e.movies.length,expression:"movies.length"}],attrs:{justify:"center"}},[t(Sr.Z,{attrs:{length:3},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)},Ci=[],Pi={components:{movieCard:Or},mixins:[Er],computed:{movies(){return this.$store.getters["torrents/movies"](this.page)}},methods:{async movieClick(e){const[t,s]=await Promise.all([this.MovieAPI.getMovie(e),this.MovieAPI.getMovieCredits(e)]);this.$emit("movieClick",ee(t,s))},async getPage(){+this.$route.query?.page!==this.page&&await this.$router.push({query:{page:`${this.page}`}}),await this.$store.dispatch("torrents/getMoviesOnTorrents",this.page)}}},Mi=Pi,Ii=(0,h.Z)(Mi,Ri,Ci,!1,null,null,null),Oi=Ii.exports,Ai={components:{MovieDialog:sr,Progress:Ti,TorrentsList:Oi},data(){return{movieDialogData:{}}},computed:{loading(){return this.$store.state.torrents.isLoading}},methods:{openMovieDialog(e){this.movieDialogData=e,this.$refs.dialog.open()}}},Fi=Ai,Yi=(0,h.Z)(Fi,Zi,bi,!1,null,null,null),Ni=Yi.exports,qi=s(8256),ji=s(2509),Vi=s(7449),Ui=function(){var e=this,t=e._self._c;return t(Ae.Z,{},[t(dt.Z,{attrs:{align:"center",justify:"center"}},[t(ut.Z,{attrs:{lg:"5",md:"7",sm:"8"}},[t(os.Z,[t(Ht.Z,{attrs:{color:"secondary",dark:""}},[t(cr.qW,[e._v(e._s(e.$t("settings")))])],1),t(nr.Z,{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[t(ns.ZB,[t(dt.Z,{attrs:{align:"center"}},[t(ut.Z,{attrs:{cols:"2"}},[t(qe.Z,{attrs:{"aria-hidden":"false",large:""}},[e._v(" mdi-account")])],1),t(ut.Z,[t(Bt.Z,{attrs:{label:e.$t("name"),rules:[e.globalRules.required,e.globalRules.minLength(2)],autofocus:"",type:"text"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.focusGender.apply(null,arguments))}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1)],1),t(dt.Z,{attrs:{align:"center"}},[t(ut.Z,{attrs:{cols:"2"}},[t(qe.Z,{attrs:{"aria-hidden":"false",large:""}},[e._v(" mdi-gender-male-female")])],1),t(ut.Z,[t(ji.Z,{attrs:{row:""},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[t(qi.Z,{attrs:{label:e.$t("male"),value:"male"}}),t(qi.Z,{attrs:{label:e.$t("female"),value:"female"}})],1)],1)],1),t(dt.Z,{attrs:{align:"center"}},[t(ut.Z,{attrs:{cols:"2"}},[t(qe.Z,{attrs:{"aria-hidden":"false",large:""}},[e._v(" mdi-calendar")])],1),t(ut.Z,[t("field-date-picker",{attrs:{rules:[e.globalRules.required]},model:{value:e.form.birthDay,callback:function(t){e.$set(e.form,"birthDay",t)},expression:"form.birthDay"}})],1)],1),t(dt.Z,{attrs:{align:"center"}},[t(ut.Z,{attrs:{cols:"2"}},[t(qe.Z,{attrs:{"aria-hidden":"false",large:""}},[e._v(" mdi-card-account-details-outline")])],1),t(ut.Z,[t(Ns.Z,{attrs:{label:e.$t("aboutYou"),name:"input-7-4",outlined:"",solo:""},model:{value:e.form.about,callback:function(t){e.$set(e.form,"about",t)},expression:"form.about"}})],1)],1),t(dt.Z,{attrs:{align:"center"}},[t(ut.Z,{attrs:{cols:"2"}},[t(qe.Z,{attrs:{"aria-hidden":"false",large:""}},[e._v(" mdi-palette")])],1),t(ut.Z,[t(Vi.Z,{attrs:{label:e.$t("dark theme"),"true-value":"dark","false-value":"light"},on:{change:e.themePreview},model:{value:e.form.theme,callback:function(t){e.$set(e.form,"theme",t)},expression:"form.theme"}})],1)],1),t(dt.Z,{attrs:{align:"center"}},[t(ut.Z,{attrs:{cols:"2"}},[t(qe.Z,{attrs:{"aria-hidden":"false",large:""}},[e._v(" mdi-pirate")])],1),t(ut.Z,[t(Vi.Z,{attrs:{label:e.$t("imPirate")},model:{value:e.form.pirate,callback:function(t){e.$set(e.form,"pirate",t)},expression:"form.pirate"}})],1)],1)],1),t(ns.h7,[t(lr.Z),t(i.Z,{attrs:{loading:e.loading,color:"accent",depressed:"",type:"submit"}},[e._v(e._s(e.$t("save")))])],1)],1)],1)],1)],1)],1)},Wi=[],Gi=s(5718),Bi=function(){var e=this,t=e._self._c;return t("div",[t(xt.Z,{attrs:{"close-on-content-click":!1,"min-width":"auto","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(Bt.Z,e._g(e._b({directives:[{name:"mask",rawName:"v-mask",value:"##.##.####",expression:"'##.##.####'"}],ref:"input",attrs:{label:e.label,placeholder:e.$t("Date"),rules:e.applyRules,value:e.dateFormat,clearable:"",inputmode:"none",maxlength:"10"},on:{click:e.selectOnClick,input:e.setDate,"click:clear":function(t){e.$emit("input",""),e.menu=!0},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.menu=!1},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.upDownHandler.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.upDownHandler.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.leftRightHandler.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.leftRightHandler.apply(null,arguments))}]}},"v-text-field",r,!1),s))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(Gi.Z,{attrs:{"show-current":!1,value:e.value},on:{input:e.save}})],1),t(a.Z,{attrs:{value:e.overlay&&e.menu}})],1)},Hi=[],zi={data(){return{menu:!1,selectedPeriod:null,localRules:[e=>!e||as(e,"DD.MM.YYYY",!0).isValid()||this.$t("field-rules.invalid-format-date")]}},props:{value:{type:String,required:!0},rules:{type:Array,required:!1},label:{type:String,required:!1},overlay:{type:Boolean,required:!1,default:!1}},computed:{applyRules(){return this.rules?this.localRules.concat(this.rules):this.localRules},dateFormat(){const e=this.value;return e?new Date(e).toLocaleDateString("Ru-ru"):""}},methods:{save(e){this.menu=!1,this.$emit("input",e)},setDate(e){e?as(e,"DD.MM.YYYY",!0).isValid()?this.$emit("input",as(e,"DD.MM.YYYY").format("YYYY-MM-DD")):this.menu=!1:this.$emit("input","")},upDownHandler(e){this.value?(38===e.keyCode?this.$emit("input",as(this.value).add(1,this.selectedPeriod).format("YYYY-MM-DD")):this.$emit("input",as(this.value).subtract(1,this.selectedPeriod).format("YYYY-MM-DD")),this.setSelection(e.target)):this.$emit("input","")},leftRightHandler(e){e.target.value.length<10||(37===e.keyCode?"year"===this.selectedPeriod?this.selectedPeriod="month":this.selectedPeriod="day":"day"===this.selectedPeriod?this.selectedPeriod="month":this.selectedPeriod="year",this.setSelection(e.target))},selectOnClick(e){e.target.value.length<10||(e.target.selectionStart>5?(e.target.setSelectionRange(6,10),this.selectedPeriod="year"):e.target.selectionStart<2?(e.target.setSelectionRange(0,2),this.selectedPeriod="day"):(e.target.setSelectionRange(3,5),this.selectedPeriod="month"))},setSelection(e){const t={day:[0,2],month:[3,5],year:[6,10]},s=this.selectedPeriod;this.$nextTick((()=>{e.setSelectionRange(t[s][0],t[s][1])}))}}},Ki=zi,Ji=(0,h.Z)(Ki,Bi,Hi,!1,null,null,null),Qi=Ji.exports,Xi={components:{fieldDatePicker:Qi},data(){return{loading:!1,form:this.$store.getters["userSettings/settings"],datePickerMenu:!1}},methods:{focusGender(){},async save(){const e=this.prepareData();await this.$store.dispatch("userSettings/updateSettings",e),this.$store.commit("SET_SUCCESS",this.$t("saveSettings"))},themePreview(){this.$store.commit("userSettings/UPDATE_SETTINGS",{theme:this.form.theme})},prepareData(){return{about:this.form.about,birthDay:this.form.birthDay,gender:this.form.gender,name:this.form.name,pirate:this.form.pirate,theme:this.form.theme}}}},ea=Xi,ta=(0,h.Z)(ea,Ui,Wi,!1,null,null,null),sa=ta.exports,ra=function(){var e=this,t=e._self._c;return t(Ae.Z,[t(dt.Z,{attrs:{justify:"center"}},[t(ut.Z,{attrs:{lg:"10"}},[t("h3",{staticClass:"mb-2"},[e._v(e._s(e.$t("addToWatchLater")))]),t(Gt.Z,{staticClass:"pagination-display-none",attrs:{"footer-props":{"items-per-page-text":"","items-per-page-options":[15,30,50,100]},headers:e.headers,items:e.tableData,loading:e.loading,options:e.tableOptions,search:e.search,"calculate-widths":"","mobile-breakpoint":"200","must-sort":""},on:{"click:row":e.openDialog,"update:options":function(t){e.tableOptions=t}},scopedSlots:e._u([{key:"top",fn:function(){return[t(Ht.Z,{attrs:{flat:""}},[t(Bt.Z,{attrs:{label:e.$t("search"),"append-icon":"mdi-magnify",clearable:"","hide-details":""},model:{value:e.search,callback:function(t){e.search="string"===typeof t?t.trim():t},expression:"search"}})],1)]},proxy:!0},{key:"item.genres",fn:function({item:t}){return[e._v(" "+e._s(e.movieGenreText(t.genres))+" ")]}},{key:"item.release_date",fn:function({item:t}){return[e._v(" "+e._s(e.movieYear(t.release_date))+" ")]}},{key:"item.userRating",fn:function({item:t}){return[e._v(" "+e._s(t.userRating||"—")+" ")]}},{key:"item.vote_average",fn:function({item:t}){return[e._v(" "+e._s(t.vote_average.toFixed(2))+" ")]}},{key:"item.actions",fn:function({item:s}){return[t(i.Z,{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.removeFromWatchLater(s.id)}}},[t(qe.Z,{domProps:{textContent:e._s("mdi-delete")}})],1)]}}])})],1)],1),t("movie-dialog",{ref:"dialog",attrs:{movie:e.movieDialogData}}),t("dialog-confirm",{ref:"dialogConfirm"})],1)},ia=[],aa={name:"WatchLater",components:{MovieDialog:sr},data(){return{tableOptions:{itemsPerPage:15,page:1,sortBy:["dateAddedToWatchLater"],sortDesc:[!1]},headers:[{text:this.$t("title"),align:"left",value:"title"},{text:this.$t("genre"),align:"left",value:"genres",sortable:!1},{text:this.$t("year"),align:"left",value:"release_date"},{text:this.$t("time,Min"),align:"left",value:"runtime"},{text:this.$t("yourRating"),align:"left",value:"userRating"},{text:this.$t("rating"),align:"left",value:"vote_average"},{text:this.$t("actions"),align:"center",value:"actions",sortable:!1}],search:"",movieDialogData:{}}},created(){this.$store.dispatch("movies/getWatchLaterMovies")},watch:{userMovies:{handler(){this.$store.dispatch("movies/getWatchLaterMovies")},deep:!0}},computed:{tableData(){return this.$store.getters["movies/watchLaterList"]},loading(){return this.$store.getters["movies/loading"]},userMovies(){return this.$store.getters["movies/userMovies"]}},methods:{dropTable(){this.tableOptions.page=1},async removeFromWatchLater(e){const t={title:this.$t("delete"),message:this.$t("deleteFromWatchLater")};if(await this.$refs.dialogConfirm.open(t)){const t={id:e,inWatchLater:null,dateAddedToWatchLater:null};await this.$store.dispatch("movies/updateMovie",t),this.$refs.dialogConfirm.close()}},movieGenreText(e){return e.reduce(((t,s,r)=>(r===e.length-1?t+=`${s.name}`:t+=`${s.name}, `,t)),"")},movieYear(e){return as(e).format("YYYY")},openDialog(e){this.movieDialogData=e,this.$refs.dialog.open()}}},oa=aa,na=(0,h.Z)(oa,ra,ia,!1,null,null,null),la=na.exports;const ca={reqAuth:!0},ua=[{path:"/",component:Wt,children:[{path:"",component:Ur},{path:"movie/:movieID",component:Kr},{path:"genre/:genreID",component:Ur},{path:"login",component:br},{path:"registration",component:gi},{path:"restore",component:$i},{path:"favorites",component:or,meta:{...ca}},{path:"watch-later",component:la,meta:{...ca}},{path:"new_torrents",component:Ni,meta:{...ca}},{path:"profile",component:li,children:[{path:"settings",component:sa,meta:{...ca}}]}]},{path:"*",component:si}];var da=ua,ma=s(3017);v.ZP.use(Oe.ZP);const ha=new Oe.ZP({base:ma.publicPath,mode:"history",routes:da,scrollBehavior(){return{x:0,y:0}}});ha.beforeEach((async(e,t,s)=>{e.meta.reqAuth&&!Pe.getters["auth/isLoggedIn"]?(await Pe.dispatch("auth/refresh"),Pe.getters["auth/isLoggedIn"]?s():s({path:"/login",query:{redirect:e.fullPath}})):s()}));var ga=ha,pa=s(3731);function va(){return{required:e=>Array.isArray(e)?!!e.length||this.$t("field-rules.input-required"):!!e||this.$t("field-rules.input-required"),email:e=>!e||/^[A-Za-z0-9._%-]+@[a-z0-9.-]+[.][a-z]+$/.test(e)&&/^.{1,64}@.{1,250}$/.test(e)||this.$t("field-rules.incorrect-email"),samePassword:e=>t=>e===t||this.$t("field-rules.passwords-must-match"),minLength:e=>t=>t.length>=e||`${this.$t("field-rules.min-length")} ${e-1} ${this.$t("field-rules.characters")}`}}var fa={computed:{...(0,u.Se)({isLoggedIn:"auth/isLoggedIn",userName:"userSettings/userName"})}},_a=s(345),ya=function(){var e=this,t=e._self._c;return t(ls.Z,{attrs:{"max-width":"500px"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$_cancel.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$_confirm.apply(null,arguments)}]},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(os.Z,[t(Ht.Z,{staticClass:"mb-4",attrs:{color:e.color,dark:"",dense:"",flat:""}},[t(cr.qW,{staticClass:"white--text"},[e._v(e._s(e.titleText))])],1),t(ns.Qq,{directives:[{name:"show",rawName:"v-show",value:!!e.messageText,expression:"!!messageText"}],staticClass:"text-body-2"},[e._v(" "+e._s(e.messageText)+" ")]),t(ns.ZB,{directives:[{name:"show",rawName:"v-show",value:!!e.agreeText,expression:"!!agreeText"}]},[t(_a.Z,{staticClass:"mt-0",attrs:{label:e.agreeText},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}})],1),t(ns.h7,[t(i.Z,{attrs:{disabled:!e.allow,loading:e.sending,color:"primary",text:""},nativeOn:{click:function(t){return e.$_confirm.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("yes"))+" ")]),t(lr.Z),t(i.Z,{attrs:{text:""},domProps:{textContent:e._s(e.$t("cancel"))},nativeOn:{click:function(t){return e.$_cancel.apply(null,arguments)}}})],1)],1)],1)},wa=[],$a={data(){return{dialog:!1,sending:!1,titleText:null,messageText:null,agree:!1,agreeText:null,color:null,resolve:null,reject:null}},computed:{allow(){return this.agree||!this.agreeText}},methods:{open({title:e,message:t,agree:s,color:r="warning"}={}){return this.dialog=!0,this.titleText=e,this.messageText=t,this.agree=!1,this.agreeText=s,this.color=r,new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},close(){this.dialog=!1,this.sending=!1},loadingOver(){this.close()},$_confirm(){this.resolve(!0),this.sending=!0},$_cancel(){this.resolve(!1),this.dialog=!1}}},Za=$a,ba=(0,h.Z)(Za,ya,wa,!1,null,null,null),ka=ba.exports;v.ZP.prototype.MovieAPI=Ie,v.ZP.config.productionTip=!1,document.documentElement.style.setProperty("--colorTheme",Pe.getters["userSettings/theme"]),v.ZP.directive("mask",pa.e9),v.ZP.component("dialog-confirm",ka),v.ZP.mixin({data(){return{globalRules:va.call(this)}},...fa}),new v.ZP({vuetify:$e,router:ga,store:Pe,i18n:k,render:e=>e(p)}).$mount("#app")},3017:function(e){e.exports={publicPath:"/vuetify-kino-searcher/",transpileDependencies:["vuetify"],pluginOptions:{i18n:{locale:"en",fallbackLocale:"en",localeDir:"locales",enableInSFC:!0,enableBridge:!1}}}},8973:function(e,t,s){var r={"./en.json":790,"./field-rules/en.json":6610,"./field-rules/ru.json":1698,"./ru.json":9672};function i(e){var t=a(e);return s(t)}function a(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=8973},175:function(e,t,s){"use strict";e.exports=s.p+"img/avatar-placeholder.dc78a2a7.svg"},4080:function(e,t,s){"use strict";e.exports=s.p+"img/logo-black.a3ec0fe6.png"},6286:function(e,t,s){"use strict";e.exports=s.p+"img/logo-white.d93c9c2a.png"},42:function(e,t,s){"use strict";e.exports=s.p+"img/placeholder-image-white.a42bc9f7.png"},790:function(e){"use strict";e.exports=JSON.parse('{"actions":"Actions","addToFavorites":"Add to favorites","addToWatchLater":"Watch later","author":"Alexandr Kurkin","collapse":"Collapse","delete":"Delete","deleteFromFavorites":"Delete from favorites?","deleteFromWatchLater":"Delete from watch later list?","duration":"duration","email":"Email","enterMovieName":"Enter movie name","explore":"Explore","favorites":"Favorites","forgotPassword":"Forgot your password?","genre":"Genre","genres":"Genres","genresPageTitle":"{0} movies","home":"Home","imPirate":"I\'m pirate","login":"Login","loginToAdd":"Login to add","loginToRate":"Login to rate","logout":"Logout","logoutConfirm":"Are you sure you want to logout?","newTorrents":"New on Rutor","noDescription":"No description","note":"Your note","overview":"Overview","password":"Password","pleaseLogin":"Please login to your account","profile":"Profile","rating":"Rating","registration":"Registration","repeatPassword":"Repeat password","resetPassword":"Reset password","saveSettings":"Settings was successfully updated","search":"Search","searchOnRutor":"Search on Rutor","settings":"Settings","successLogin":"Success login","successResetPassword":"Password has been reset, check your email","time,Min":"Time, min","title":"Title","watchLater":"Watch later","year":"Year","yourRating":"Your score"}')},6610:function(e){"use strict";e.exports=JSON.parse('{"field-rules":{"characters":"characters","incorrect-email":"Incorrect email","input-required":"Required field","invalid-format-date":"Invalid date entered","invalid-format-time":"Invalid time entered","invalid-phone-number":"Invalid phone number entered","invalid-phone-number-length":"The allowed length of a phone number is 10-15 digits","min-length":"Must be greater than","not-identical-passwords":"Not identical passwords","password-must-at-least-eight-characters":"Ensure password is of length at least 8 letters","password-must-one-number":"Ensure password least has one digit","password-must-three-lowercase":"Ensure password least has three lowercase letters","password-must-two-uppercase":"Ensure password least has two uppercase letters","passwords-must-match":"Not identical passwords","sms-code":"Incorrect code"}}')},1698:function(e){"use strict";e.exports=JSON.parse('{"field-rules":{"characters":"символов","incorrect-email":"Некорректный email","input-required":"Заполните это поле","invalid-format-date":"Введена некорректная дата","invalid-format-time":"Введено некорректное время","invalid-phone-number":"Введен некорректный номер телефона","invalid-phone-number-length":"Допустимая длина номера телефона - 10-15 цифр","min-length":"Должно быть длиннее чем","not-identical-passwords":"Пароли должны совпадать","password-must-at-least-eight-characters":"Длина пароля должна быть не менее восьми символов","password-must-one-number":"Убедитесь, что пароль содержит как минимум одну цифру","password-must-three-lowercase":"Убедитесь, что пароль содержит как минимум три символа нижнего регистра","password-must-two-uppercase":"Убедитесь, что пароль содержит как минимум два символа верхнего регистра","passwords-must-match":"Пароли должны совпадать","sms-code":"Некорректный код"}}')},9672:function(e){"use strict";e.exports=JSON.parse('{"aboutYou":"О себе","actions":"Действия","addToFavorites":"Добавить в избранное","addToWatchLater":"Смотреть позже","author":"Александр Куркин","cancel":"Отмена","collapse":"Свернуть","dark theme":"Темная тема","delete":"Удалить","deleteFromFavorites":"Удалить из избранного?","deleteFromWatchLater":"Удалить из смотреть позже?","duration":"продолжительность","email":"Email","enterMovieName":"Введите название фильма","explore":"Подробнее","favorites":"Избранное","female":"жен.","forgotPassword":"Забыли свой пароль?","genre":"Жанр","genres":"Жанры","genresPageTitle":"Фильмы в жанре {0}","home":"Главная","imPirate":"Я пират","login":"Вход","loginToAdd":"Войдите чтобы добавить","loginToRate":"Войдите чтобы оценить","logout":"Выход","logoutConfirm":"Вы уверены, что хотите выйти?","male":"муж.","name":"Имя","newTorrents":"Новинки на Rutor","noDescription":"Описание отсутствует","note":"Ваша заметка","overview":"Обзор","password":"Пароль","pleaseLogin":"Пожалуйста войдите в свой аккаунт","profile":"Профиль","rating":"Оценка","registration":"Регистрация","repeatPassword":"Повторите пароль","resetPassword":"Сбросить пароль","save":"Сохранить","saveSettings":"Настройки успешно обновлены","search":"Поиск","searchOnRutor":"Поиск на Rutor","settings":"Настройки","successLogin":"Успешный вход","successResetPassword":"Пароль был успешно сброшен, проверьте свою почту","time,Min":"Время, мин.","title":"Название","watchLater":"Смотреть позже","year":"Год","yes":"Да","yourRating":"Ваша оценка"}')}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,i,a){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],a=e[u][2];for(var n=!0,l=0;l<r.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,a<o&&(o=a));if(n){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,i,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/vuetify-kino-searcher/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,o=r[0],n=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var u=l(s)}for(t&&t(r);c<o.length;c++)a=o[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},r=self["webpackChunkkino_searcher"]=self["webpackChunkkino_searcher"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(1416)}));r=s.O(r)})();
//# sourceMappingURL=app.0ab7584a.js.map